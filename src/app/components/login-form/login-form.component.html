<form [formGroup]="loginForm">
  <div class="input-group" [ngClass]="{'has-error': loginForm.get('username')?.invalid && loginForm.get('username')?.touched, 'has-success': loginForm.get('username')?.valid && loginForm.get('username')?.touched}">
    <label for="username">Usuario</label>
    <div class="input-with-icon">
      <ion-icon name="person" aria-hidden="true"></ion-icon>
      <ion-input 
        type="text" 
        id="username" 
        placeholder="Ingresa tu usuario"
        formControlName="username"
        aria-label="Usuario"
        required>
      </ion-input>
    </div>
    <div class="input-error" *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
      El usuario es obligatorio
    </div>
  </div>
  
  <div class="input-group" [ngClass]="{'has-error': loginForm.get('password')?.invalid && loginForm.get('password')?.touched, 'has-success': loginForm.get('password')?.valid && loginForm.get('password')?.touched}">
    <label for="password">Contraseña</label>
    <div class="input-with-icon">
      <ion-icon name="lock-closed" aria-hidden="true"></ion-icon>
      <ion-input 
        [type]="showPassword ? 'text' : 'password'" 
        id="password" 
        placeholder="Ingresa tu contraseña"
        formControlName="password"
        aria-label="Contraseña"
        required>
      </ion-input>
      <ion-icon 
        [name]="showPassword ? 'eye-off' : 'eye'" 
        (click)="togglePasswordVisibility()"
        class="toggle-password"
        tabindex="0"
        aria-label="Mostrar u ocultar contraseña"
        role="button">
      </ion-icon>
    </div>
    <div class="input-error" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
      La contraseña es obligatoria
    </div>
  </div>
  
  <ion-item lines="none">
    <ion-checkbox slot="start" formControlName="remember"></ion-checkbox>
    <ion-label>Recordarme</ion-label>
    <div class="forgot-password" slot="end">
      <a href="#" (click)="goToResetPassword(); $event.preventDefault()">
        ¿Olvidaste tu contraseña?
      </a>
    </div>
  </ion-item>
  
  <ion-button 
    expand="block" 
    class="btn-login" 
    (click)="login()" 
    [disabled]="!loginForm.valid">
    INICIAR SESIÓN
  </ion-button>
</form>